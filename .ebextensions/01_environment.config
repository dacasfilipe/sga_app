# Configurações do Elastic Beanstalk para o SGA
# Este arquivo define variáveis de ambiente e configurações específicas para a AWS

option_settings:
  # Configurações da aplicação Java
  aws:elasticbeanstalk:application:environment:
    # Variáveis de ambiente que serão definidas no console do Elastic Beanstalk
    # Estas são apenas placeholders - os valores reais serão configurados via console
    ENVIRONMENT: production
    
  # Configurações do container Java
  aws:elasticbeanstalk:container:java:
    # Versão do Java
    JavaVersion: 11
    # Servidor de aplicação
    ApplicationServer: tomcat85
    # Configurações da JVM
    JVMOptions: "-Xmx512m -Xms256m"
    
  # Configurações do proxy (nginx)
  aws:elasticbeanstalk:environment:proxy:
    ProxyServer: nginx
    
  # Configurações de monitoramento
  aws:elasticbeanstalk:healthreporting:system:
    SystemType: enhanced
    
  # Configurações de logs
  aws:elasticbeanstalk:cloudwatch:logs:
    StreamLogs: true
    DeleteOnTerminate: false
    RetentionInDays: 7

# Comandos a serem executados durante o deploy
commands:
  01_install_postgresql_client:
    command: "yum install -y postgresql"
    ignoreErrors: true

